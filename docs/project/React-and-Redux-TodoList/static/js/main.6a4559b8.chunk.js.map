{"version":3,"sources":["store/reducer.js","store/index.js","store/actionTypes.js","TodoList.js","store/actionCreatores.js","index.js"],"names":["defaultState","inputValue","list","store","createStore","state","action","console","log","type","newState","JSON","parse","stringify","value","push","splice","index","concat","window","__REDUX_DEVTOOLS_EXTENSION__","TodoList","props","storeChange","setState","getState","handleClick","dispatch","changeInputValue","bind","subscribe","style","margin","width","marginBottom","placeholder","this","onChange","marginRight","onClick","header","bordered","dataSource","renderItem","item","Item","actions","theme","key","deleteItem","axios","get","then","res","data","getListAction","e","target","deleteItemAction","PureComponent","ReactDOM","render","document","getElementById"],"mappings":"8UAEMA,EAAe,CACjBC,WAAY,kBACZC,KAAM,CACF,wFACA,wECEOC,EALDC,aDOC,WAAmC,IAAlCC,EAAiC,uDAAzBL,EAAcM,EAAW,uCAG7C,GAFAC,QAAQC,IAAIH,EAAOC,GEXM,gBFatBA,EAAOG,KAAuB,CAC7B,IAAMC,EAAWC,KAAKC,MAAMD,KAAKE,UAAUR,IAE3C,OADAK,EAAST,WAAaK,EAAOQ,MACtBJ,EAEX,GEjBqB,YFiBlBJ,EAAOG,KAAmB,CACzB,IAAMC,EAAWC,KAAKC,MAAMD,KAAKE,UAAUR,IAG3C,OAFAK,EAASR,KAAKa,KAAKL,EAAST,YAC5BS,EAAST,WAAa,GACfS,EAEX,GEtBwB,eFsBrBJ,EAAOG,KAAsB,CAC5B,IAAMC,EAAWC,KAAKC,MAAMD,KAAKE,UAAUR,IAE3C,OADAK,EAASR,KAAKc,OAAOV,EAAOW,MAAO,GAC5BP,EAEX,GE1BsB,aF0BnBJ,EAAOG,KAAoB,CAC1B,IAAMC,EAAWC,KAAKC,MAAMD,KAAKE,UAAUR,IAE3C,OADAK,EAASR,KAAOQ,EAASR,KAAKgB,OAAOZ,EAAOQ,OACrCJ,EAEX,OAAOL,IC7BPc,OAAOC,8BAAgCD,OAAOC,gCE+DnCC,E,YA7DX,WAAYC,GAAQ,IAAD,8BACf,4CAAMA,KA+CVC,YAAc,WACV,EAAKC,SAASrB,EAAMsB,aAjDL,EAoDnBC,YAAc,WACVvB,EAAMwB,SCrDoB,CAC9BlB,KFPqB,aCQjB,EAAKJ,MAAQF,EAAMsB,WACnB,EAAKG,iBAAmB,EAAKA,iBAAiBC,KAAtB,gBACxB1B,EAAM2B,UAAU,EAAKP,aAJN,E,sEAMT,IAAD,OACL,OACI,yBAAKQ,MAAO,CAACC,OAAO,OAAQC,MAAO,UAC/B,wDACA,yBAAKF,MAAO,CAACG,aAAa,SACtB,kBAAC,IAAD,CACIC,YAAaC,KAAK/B,MAAMJ,WACxBoC,SAAUD,KAAKR,iBACfd,MAAOsB,KAAK/B,MAAMJ,WAClB8B,MAAO,CAACE,MAAO,QAAQK,YAAY,UACvC,kBAAC,IAAD,CACI7B,KAAK,UACL8B,QAASH,KAAKV,aAFlB,iBAKJ,kBAAC,IAAD,CACIc,OAAQ,yDACRC,UAAQ,EACRC,WAAYN,KAAK/B,MAAMH,KACvByC,WAAY,SAACC,EAAM3B,GAAP,OACR,kBAAC,IAAK4B,KAAN,CACIC,QAAS,CAAC,kBAAC,IAAD,CAAMrC,KAAK,eAAesC,MAAM,SAASC,IAAI,cAAcT,QAAS,EAAKU,WAAWpB,KAAK,EAAMZ,OAExG2B,S,0CASrBM,IAAMC,IAAI,8EAA8EC,MAAK,SAAAC,GACzF,IAAMnD,EAAOmD,EAAIC,KAAKA,KAAKpD,KAC3BC,EAAMwB,SC/BW,SAACzB,GAAD,MAAS,CAClCO,KFdsB,WEetBK,MAAOZ,GD6BgBqD,CAAcrD,S,uCAIpBsD,GACbrD,EAAMwB,SClD6B,CACvClB,KFHyB,cEIzBK,MDgDqC0C,EAAEC,OAAO3C,U,iCAWnCG,GACPd,EAAMwB,SCrDkB,SAACV,GAAD,MAAU,CACtCR,KFVwB,aEWxBQ,SDmDmByC,CAAiBzC,Q,GA1DjB0C,iB,OEDvBC,IAASC,OAAO,kBAAC,EAAD,MAAcC,SAASC,eAAe,W","file":"static/js/main.6a4559b8.chunk.js","sourcesContent":["import { DATA_LIST, CHANGE_INPUT , ADD_ITEM , DELETE_ITEM } from './actionTypes'\n\nconst defaultState = {\n    inputValue: 'Write Something',\n    list: [\n        '早8点晨会，分配今天的代码任务',\n        '早9点和项目经理开沟通会'\n    ]\n}\n\nexport default (state = defaultState, action) => {\n    console.log(state, action);\n    // Reducer里只能接收state，不能改变state\n    if(action.type === CHANGE_INPUT) {\n        const newState = JSON.parse(JSON.stringify(state));\n        newState.inputValue = action.value;\n        return newState;\n    }\n    if(action.type === ADD_ITEM) {\n        const newState = JSON.parse(JSON.stringify(state));\n        newState.list.push(newState.inputValue);\n        newState.inputValue = '';\n        return newState;\n    }\n    if(action.type === DELETE_ITEM) {\n        const newState = JSON.parse(JSON.stringify(state));\n        newState.list.splice(action.index, 1)\n        return newState;\n    }\n    if(action.type === DATA_LIST) {\n        const newState = JSON.parse(JSON.stringify(state));\n        newState.list = newState.list.concat(action.value)\n        return newState;\n    }\n    return state;\n}\n","import {createStore} from 'redux'\nimport reducer from './reducer'\n\nconst store = createStore(\n    reducer,\n    window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n)\n\nexport default store;\n","export const  CHANGE_INPUT = 'changeInput'\nexport const  ADD_ITEM = 'addItem'\nexport const  DELETE_ITEM = 'deleteItem'\nexport const  DATA_LIST = 'dataList'\n","import React, { PureComponent } from 'react';\nimport {Input,Button,List,Icon} from 'antd'\nimport axios from 'axios'\nimport store from './store'\nimport {getListAction, changeInputAction, addItemAction, deleteItemAction} from './store/actionCreatores'\n\nclass TodoList extends PureComponent {\n    constructor(props) {\n        super(props);\n        this.state = store.getState()\n        this.changeInputValue = this.changeInputValue.bind(this)\n        store.subscribe(this.storeChange)\n    }\n    render() { \n        return (\n            <div style={{margin:'10px', width: '600px'}}>\n                <h1>React and Redux TodoList</h1>\n                <div style={{marginBottom:'10px'}}>\n                    <Input \n                        placeholder={this.state.inputValue} \n                        onChange={this.changeInputValue}\n                        value={this.state.inputValue}\n                        style={{width: '250px',marginRight:'10px'}}/>\n                    <Button \n                        type=\"primary\"\n                        onClick={this.handleClick}\n                    >增加</Button>\n                </div>\n                <List\n                    header={<div>任务列表</div>}\n                    bordered\n                    dataSource={this.state.list}\n                    renderItem={(item, index) => (\n                        <List.Item\n                            actions={[<Icon type=\"close-circle\" theme=\"filled\" key=\"delete-item\" onClick={this.deleteItem.bind(this, index)} />]}\n                        > \n                            {item}\n                        </List.Item>\n                    )}\n                />\n            </div>\n        );\n    }\n\n    componentDidMount() {\n        axios.get('https://www.fastmock.site/mock/6099b9719bd59b55a0f21894438cc412/react/list').then(res => {\n            const list = res.data.data.list\n            store.dispatch(getListAction(list))\n        })\n    }\n\n    changeInputValue(e){\n        store.dispatch(changeInputAction(e.target.value));\n    }\n\n    storeChange = () => {\n        this.setState(store.getState());\n    }\n\n    handleClick = () => {\n        store.dispatch(addItemAction());\n    }\n\n    deleteItem(index) {\n        store.dispatch(deleteItemAction(index));\n    }\n}\n \nexport default TodoList;\n","import { CHANGE_INPUT , ADD_ITEM , DELETE_ITEM, DATA_LIST } from './actionTypes'\n\nexport const changeInputAction = (value)=>({\n    type:CHANGE_INPUT,\n    value\n})\n\nexport const addItemAction = ()=>({\n    type:ADD_ITEM\n})\n\nexport const deleteItemAction = (index)=>({\n    type: DELETE_ITEM,\n    index\n})\n\nexport const getListAction = (list)=>({\n    type: DATA_LIST,\n    value: list\n})\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport TodoList from './TodoList';\nimport 'antd/dist/antd.css'\n\nReactDOM.render(<TodoList />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n\n"],"sourceRoot":""}